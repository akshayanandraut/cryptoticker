<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<script>
tickerZebpay();
tickerKoinex(); 
setInterval(function() {
  tickerZebpay();
  tickerKoinex();  
}, 12000);

function tickerZebpay(){
	var xhttp = new XMLHttpRequest();
	xhttp.onreadystatechange = function() {
		if (this.readyState == 4 && this.status == 200) {
			var json = JSON.parse(this.responseText);
			var x = '<div class="container-fluid"><div class="well well-lg"><h2 style="color:#359AF2;">ZEBPAY BTC</h2><button class="col-sm-3 btn btn-primary">MARKET: '+json.market+' INR</button><button class="col-sm-3 btn btn-success">BUY: '+json.buy+' INR</button><button class="col-sm-3 btn btn-danger">SELL: '+json.sell+' INR</button><button class="col-sm-3 btn btn-warning">DIFF: '+(json.buy - json.sell)+' INR</button></div></div>';
			document.getElementById("display1").innerHTML = x;
		}
	};
	xhttp.open("GET", "https://www.zebapi.com/api/v1/market/ticker/btc/inr", true);
	xhttp.send();
}

function tickerKoinex(){
	var xhttp = new XMLHttpRequest();
	xhttp.onreadystatechange = function() {
		if (this.readyState == 4 && this.status == 200) {
			var json = JSON.parse(this.responseText);
			console.log(change);
			var x = '<div class="container-fluid"><br><div class="well well-lg" style=""><h2 style="color:#0C6EB5;">KOINEX</h2>';

			//BTC
			var change = json.prices.BTC - json.stats.BTC.last_traded_price;
			console.log(change);
			if (change>=0)
				c = '<button class="col-sm-2 btn btn-success">+'+(change)+'</span>';
			else
				c = '<button class="col-sm-2 btn btn-danger">'+(change)+'</span>';			
			x+='<div class=""><h3>BTC/INR</h3></span><button class="col-sm-3 btn btn-primary">'+json.prices.BTC+'</button> '+c+'</div><br>';
			
			//ETH
			var change = json.prices.ETH - json.stats.ETH.last_traded_price;
			console.log(change);
			if (change>=0)
				c = '<button class="col-sm-2 btn btn-success">+'+(change)+'</span>';
			else
				c = '<button class="col-sm-2 btn btn-danger">'+(change)+'</span>';			
			x+='<div class=""><h3>ETH/INR</h3></span><button class="col-sm-3 btn btn-primary">'+json.prices.ETH+'</button> '+c+'</div><br>';
			
			//BCH
			var change = json.prices.BCH - json.stats.BCH.last_traded_price;
			console.log(change);
			if (change>=0)
				c = '<button class="col-sm-2 btn btn-success">+'+(change)+'</span>';
			else
				c = '<button class="col-sm-2 btn btn-danger">'+(change)+'</span>';			
			x+='<div class=""><h3>BCH/INR</h3><button class="col-sm-3 btn btn-primary">'+json.prices.BCH+'</button> '+c+'</div><br>';
			
			//XRP
			var change = json.prices.XRP - json.stats.XRP.last_traded_price;
			console.log(change);
			if (change>=0)
				c = '<button class="col-sm-2 btn btn-success">+'+(change)+'</span>';
			else
				c = '<button class="col-sm-2 btn btn-danger">'+(change)+'</span>';			
			x+='<div class=""><h3>XRP/INR</h3><button class="col-sm-3 btn btn-primary">'+json.prices.XRP+'</button> '+c+'</div><br>';
			//LTC
			var change = json.prices.LTC - json.stats.LTC.last_traded_price;
			console.log(change);
			if (change>=0)
				c = '<button class="col-sm-2 btn btn-success">+'+(change)+'</span>';
			else
				c = '<button class="col-sm-2 btn btn-danger">'+(change)+'</span>';			
			x+='<div class=""><h3>LTC/INR</h3><button class="col-sm-3 btn btn-primary">'+json.prices.LTC+'</button> '+c+'</div><br>';
			
			document.getElementById("display2").innerHTML = x;
		}
	};
	xhttp.open("GET", "https://koinex.in/api/ticker", true);
	xhttp.send();
}
</script>
</head>
<body>
<div id="display2" class="display2"></div>
<div id="display1" class="display1"></div>



<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</body>
</html>

